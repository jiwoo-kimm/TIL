# Docker

> 컨테이너 기반 가상화 도구

- 컨테이너: 환경에 구애 받지 않고 어플리케이션을 실행하는 기술
- 이미지: 프로세스 실행 환경
- Dockerizing: 도커 이미지 만드는 작업

# 배경

- Snowflake Servers 발생 → 장애 발생 원인 파악 어려움 → 서버 운영 기록, 재현이 필요함 → 서버 코드화

```
💡 배포/실행 시점에 상관 없이 항상 동일한 서버의 구성 내용과 시점이 필요함
```

# 기능

- 리눅스 상에서 컨테이너 방식으로 프로세스를 격리해서 실행하고 관리
- 가상머신(VM)처럼 하드웨어 자체를 가상화하는 것이 아님
- Linux OS에서 지원하는 방법을 통해, 하나의 프로세스(컨테이너)를 실행하기 위한 별도의 환경을 구축해줌
- 이미지를 기반으로 컨테이너를 실행하고, 다시 특정 컨테이너의 상태를 변경해 이미지로 만들 수 있음
- 이미지를 파일로 보관하거나 원격 저장소를 통해 공유할 수 있으며, 도커만 설치되어 있으면 언제 어디서나 컨테이너로 동일한 실행 환경 구성 가능

# 구현

```
도커 파일 == 코드화된 서버 운영 기록
도커 이미지 == 도커 파일 + 실행 시점
도커 컨테이너 == 도커 이미지 + 환경 변수
```

- 계층화된 파일 시스템에 기반해 효율적으로 이미지를 구축
- Linux OS에서 지원하는 다양한 기능을 사용해 컨테이너(하나의 프로세스)를 실행하기 위한 별도의 환경(파일 시스템)을 제공
- Linux namespace와 다양한 kernel 기능을 조합해 프로세스를 특별하게 실행


## 도커 컨테이너

- `컨테이너 ID` 해시값 : 임의의 `컨테이너 이름`
- 컨테이너별로 바뀌어야 하는 값을 `환경변수`에 넣고 관리

## 도커 파일

- 도커 DSL로 이미지를 정의하는 파일
- 실제 파일의 이름은 `Dockerfile`


#### 참고

[왜 굳이 도커(컨테이너)를 써야 하나요?](https://www.44bits.io/ko/post/why-should-i-use-docker-container)
