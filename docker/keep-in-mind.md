## 도커 컨테이너는 VM과 다르다. `컨테이너는 가상머신이 아니고 프로세스`다!
  - VM은 외부 서버에서 SSH로 접속 → 셸 종료해도 SSH 서버는 살아있음
  - 컨테이너는 우분투 안의 bash 셸을 실행하고, 그 안에서 격리된 프로세스를 실행하는 것 → 셸 종료하면 프로세스도 같이 종료
  - 컨테이너마다 네임스페이스가 분리되어있기 때문에 각 도커 컨테이너 자신이 바라보는 PID는 1번이다. 하지만 host에서 보면 프로세스일 뿐이다.

## 이미지는 불변이고, 컨테이너의 변형은 이미지에 영향을 끼칠 수 없다!
  - 당연함. 이미지는 고정된 환경임.
  - 다만, 계층화된 파일 시스템을 기반으로 컨테이너에 변경사항을 가한 후 새로운 이미지로 만들어내는 것은 가능
  
## Dockerfile의 RUN 명령은 각각의 독립적인 레이어에 캐싱된다
  - Dockerfile은 `레이어`라는 형태를 명령어 단위로 분리하여 생성하고 캐싱
  - `RUN`, `ADD`, `COPY` 이 3가지 단계만이 레이어로 저장되고, `CMD`, `LABEL`, `ENV`, `EXPOSE` 등과 같이 메타 정보를 다루는 부분은 임시 레이어로 생성되지만 저장되지 않아 도커 이미지 사이즈에 영향을 주지 않는다.
  - 위 3가지 명령어를 줄이면 레이어가 줄어들고 캐시도 효율적으로 관리할 수 있음

![image](https://user-images.githubusercontent.com/43198798/141056250-bd615c48-7b24-4172-a82f-43f5ced6b07c.png)

+) 이미지는 READ-ONLY 레이어로 실행되고, 컨테이너에서 새로 생성되는 레이어는 READ-AND-WRITE 레이어로 생성됨
